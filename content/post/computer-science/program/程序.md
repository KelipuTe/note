---
draft: false
date: 2023-06-10 08:00:00 +0800
title: "程序"
summary: "程序；指令；系统调用；"
toc: true

categories:
  - 程序

tags:
  - 计算机科学
  - 程序
---

## 正文

### 指令

CPU 的运算器可以进行算数运算，控制器可以控制执行，内存可以存储数据。

[运算器](/post/computer-science/hardware/运算器)

[可寻址内存](/post/computer-science/hardware/可寻址内存)

如果能把两个结合起来，那就可以处理复杂的逻辑了。

这里假设有三个输入，两个 8 bit 的二进制数和一个操作码。

一个内存地址只能存储 8 bit 的数据，显然不可能把所有的东西都存在一个内存地址上然后一股脑的扔给 CPU。

所以，这里就需要一种方式，把需要执行的逻辑转化成一个一个的小步骤，每个内存地址存一个小步骤，然后依次执行。

这里就可以引出指令的概念了。程序由一系列操作组成，这些操作就叫指令。

[指令](/post/computer-science/program/指令)

### 程序

程序是计算机可以执行的一条或者一组指令，不管怎样，程序最终要在计算机物理硬件上跑起来的。

程序有很多种形态：计算机可以直接执行，但是，不方便开发人员阅读和处理的二进制机器码是程序。

计算机不能直接执行，但是，方便开发人员阅读和处理的由各种编程语言编写的源代码也是程序。

程序还有一种特别的形态，即由各种编程语言编写的源代码编译出来的可执行文件。

比如：Windows 系统中 EXE 可执行文件；Linux 系统中的 ELF 可执行文件。

[可执行文件](/post/computer-science/program/可执行文件)

那么问题来了，程序有这么多种形态，它们之间是怎么能正确的相互转化的。

答案是，通过抽象，好多层的抽象。因为分类方式不同，会有不同的分层，所以下面说的，都是我的理解。

首先是，最上面的应用软件层和最下面的物理硬件层。

这两层比较好理解，应用软件层就是我们使用的各式各样的应用程序，物理硬件层就是这些应用程序最终运行时所依托的计算机物理硬件。

那么，中间有几层呢？这里不一定，我目前把中间分成 3 层。

操作系统肯定有一层，这个也好理解，我们使用计算机的时候都需要先安装一个操作系统。然后，在操作系统里面安装我们需要的应用程序。

一般来说，开发人员开发的应用程序是不能直接操作操作系统的，使用的是操作系统提供的系统接口。

开发人员通过操作系统提供的系统接口实现应用程序的功能。所以，这里有一层。

同理，开发人员开发的操作系统也是不能直接操作物理硬件的，使用的是物理硬件提供的固件接口。

固件是指嵌入硬件设备中的软件，开发人员通过固件接口开发操作系统。所以，这里也有一层。

### 系统调用

对于应用软件的开发人员来说，一般都是基于操作系统进行开发的。程序这里的大部分内容，到操作系统就为止了。

不是说下层就不重要了，而是由于抽象层的存在，我们可以规避掉下层茫茫多的细节，专心研究上层的问题。

开发人员开发的应用程序，一般都会使用操作系统提供的系统接口。系统接口也叫系统调用（system call）。

[系统调用](/post/computer-science/operating-system/系统调用)
