---
draft: false
date: 2023-02-21 08:00:00 +0800
title: "门锁"
summary: "门锁；"
toc: true

categories:
  - 硬件

tags:
  - 计算机科学
  - 硬件
---

## 正文

图：/content/post/computer-science/hardware/门锁.drawio

词汇表：

- 锁存器、and-or latch
- 门锁、gated latch

### 锁存器

锁存器由与门、或门、非门组成。**见图：门锁.drawio**。

[逻辑门](/post/computer-science/hardware/逻辑门)

锁存器可以存储 1 bit 的数据。

初始状态，set 线不通电，reset 线不通电，此时输出 0。
没有输入，整个结构也能持续输出 0，换句话说就是锁存器存储了 0。

当 set 线通电，reset 线不通电时，此时输出 1。
如果这个时候 set 线从通电变成不通电。
没有输入，整个结构依然能持续输出 1，换句话说就是锁存器存储了 1。

想要把锁存器里面恢复成 0，只需要 reset 线通电即可。
这个时候 set 线通不通电是无所谓的，都会输出 0。

### 门锁

锁存器已经可以实现存储 1 bit 的数据了，但是它有一点不好用。

- 第一，set 线用于输入 1，reset 线用于输入 0，输入数据需要两条线。
- 第二，没有安全机制，任意一条线通电了，就有可能改变里面存储的数据。

在锁存器的前面加上一些限制就可以得到门锁结构。**见图：门锁.drawio**。

初始状态，data input 线不通电，write enable 线不通电，此时输出的是 0。

如果只给 data input 线通电，而 write enable 线不通电的话，1 这个数据是设置不进去的。
只有当 data input 和 write enable 线都通电时，1 这个数据才能设置进去。

想要把门锁里面恢复成 0，就需要给 write enable 线通电的同时保证 data input 线不通电。
这里就和锁存器那里 set 线通不通电无所谓的情况不一样了。

门锁可以做到一条线控制输入的数据，另一条线控制允不允许输入，操作的逻辑非常清晰。
