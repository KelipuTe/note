---
draft: false
date: 2023-02-21 08:00:00 +0800
title: "算术单元"
summary: "算术单元；"
toc: true

categories:
  - 硬件

tags:
  - 计算机
  - 硬件
---

## 反向链接

[逻辑门](/计算机/硬件/逻辑门)；

## 资料

图：./算术单元.drawio

## 正文

### 算术单元

算术单元、arithmetic unit、AU；

算术单元由半加器、全加器、加法器等部件组成。主要的功能是进行算术运算。
算术单元中的这些部件都是基于逻辑门实现的。

### 半加器

- 半加器、half adder；
- 和、sum；进位、carry；

半加器由异或门、与门组成。**见图：算术单元.drawio**。
可以处理两个 1 位二进制数的加法运算，产生 2 个输出：一个 carry、一个 sum。

| 输入 1 | 输入 2 | 运算结果 | carry | sum |
|:----:|:----:|:----:|:-----:|:---:|
|  0   |  0   |  00  |   0   |  0  |
|  1   |  0   |  01  |   0   |  1  |
|  0   |  1   |  01  |   0   |  1  |
|  1   |  1   |  10  |   1   |  0  |

### 全加器

全加器、full adder；

全加器由半加器、或门组成。**见图：算术单元.drawio**。
可以处理三个 1 位二进制数的加法运算，产生 2 个输出：一个 carry、1 个 sum。

| 输入 1 | 输入 2 | 输入 3 | 运算结果 | carry | sum |
|:----:|:----:|:----:|:----:|:-----:|:---:|
|  0   |  0   |  0   |  00  |   0   |  0  |
|  1   |  0   |  0   |  01  |   0   |  1  |
|  0   |  1   |  0   |  01  |   0   |  1  |
|  0   |  0   |  1   |  01  |   0   |  0  |
|  1   |  1   |  0   |  10  |   1   |  0  |
|  1   |  0   |  1   |  10  |   1   |  0  |
|  0   |  1   |  1   |  10  |   1   |  0  |
|  1   |  1   |  1   |  11  |   1   |  1  |

### 两个 2 位二进制数加法

实现运算的电路由半加器、全加器组成。**见图：算术单元.drawio**。
可以处理两个 2 位二进制数加法运算，产生 3 个输出：一个 carry、2 个 sum。注意 sum 顺序。

这里简要描述一下二进制加法运算的逻辑，用 0b11（A） + 0b11（B）举例。
为了描述方便，这里借用 10 进制的个位、十位、百位的概念。先把 0b11 拆成十位的 1（A1、B1） 和个位的 1（A0、B0）。

在进行加法运算的时候，先进行个位和个位的加法，这里只有两个参数，两个个位（A0 和 B0），所以由半加器进行运算。
1 + 1 = 10，产生 2 个输出：carry = 1、sum1 = 0。

然后进行十位和十位的加法，这里有三个参数，两个十位（A1 和 B1）还有个位相加的 carry，所以这里需要全加器进行运算。
1 + 1 + 1 = 11，产生 2 个输出：carry = 1、sum2 = 1。

所以最后的结果就是 0b110，carry = 1、sum2 = 1、sum1 = 0。

| 输入 A | 输入 B | 运算结果 | carry | sum2 | sum1 |
|:----:|:----:|:----:|:-----:|:----:|:----:|
|  00  |  00  | 000  |   0   |  0   |  0   |
|  01  |  00  | 001  |   0   |  0   |  1   |
|  00  |  01  | 001  |   0   |  0   |  1   |
|  01  |  01  | 010  |   0   |  1   |  0   |
|  10  |  00  | 010  |   0   |  1   |  0   |
|  00  |  10  | 010  |   0   |  1   |  0   |
|  10  |  01  | 011  |   0   |  1   |  1   |
|  01  |  10  | 011  |   0   |  1   |  1   |
|  10  |  10  | 100  |   1   |  0   |  0   |
|  11  |  00  | 011  |   0   |  1   |  1   |
|  00  |  11  | 011  |   0   |  1   |  1   |
|  11  |  01  | 100  |   1   |  0   |  0   |
|  01  |  11  | 100  |   1   |  0   |  0   |
|  11  |  10  | 101  |   1   |  0   |  1   |
|  10  |  11  | 101  |   1   |  0   |  1   |
|  11  |  11  | 110  |   1   |  1   |  0   |

### 行波进位加法器

8 位行波进位加法器、8 bit ripple carry adder；

参考 "两个 2 位二进制数加法" 的实现方式，就可以设计出 "两个 n 位二进制数加法" 的运算电路。

比如，8 位行波进位加法器。**见图：算术单元.drawio**
可以处理两个 8 位二进制数的加法运算，产生 9 个输出：一个 carry、8 个 sum（注意顺序）。

现代计算机的加法器是超前进位加法器，超前进位加法器的电路结构和行波进位加法器不同，速度更快。
