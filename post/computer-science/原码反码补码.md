---
draft: false
date: 2023-07-11 08:00:00 +0800
title: "原码、反码、补码"
summary: "原码、反码、补码；"
toc: true

categories:
  - 计算机科学

tags:
  - 计算机科学
---

## 正文

### 原码、反码、补码

在计算机中，数据都是以补码的形式存储的。

对于有符号整数。
正整数的源码 = 反码 = 补码。
负整数的反码 = 除了源码的符号位，源码的其他位全部取反。
负整数的补码 = 负整数的反码 + 1。

- 这里的例子都是 1 字节的。
- +000；源码 = 0000,0000；反码 = 0000,0000；补码 = 0000,0000；
- +001；源码 = 0000,0001；反码 = 0000,0001；补码 = 0000,0001；
- +127；源码 = 0111,1111；反码 = 0111,1111；补码 = 0111,1111；
- -001；源码 = 1000,0001；反码 = 1111,1110；补码 = 1111,1111；
- -002；源码 = 1000,0010；反码 = 1111,1101；补码 = 1111,1110；
- -126；源码 = 1111,1110；反码 = 1000,0001；补码 = 1000,0002；
- -127；源码 = 1111,1111；反码 = 1000,0000；补码 = 1000,0001；
- -128；补码 = 1000,0000；

10000000 应该是 -000 的位置，被用来存储 -128 了。

- -127 + -001 = 1000,0001 + 11111111 = 1,1000,0000
- +001 + -001 = 0000,0001 + 11111111 = 1,0000,0000

这两种情况，计算的时候，理论上都是溢出的。但是，如果把溢出的部分去掉，结果又是对的。

### 数据扩展

#### 整数

无符号整数和有符号正整数，在前面补 0。有符号负整数，在前面补 1。

1 字节的 -1 补码是 1111,1111，扩展到 2 字节，补码是 1111,1111,1111,1111。

至于为什么，看上面那里 -1 和 -2 的补码就知道了。