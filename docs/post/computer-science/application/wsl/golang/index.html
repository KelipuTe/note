<!doctype html><html lang=zh-cn data-theme=light><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.103.1"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="使用 WSL 和 Goland 进行 Golang 开发"><meta itemprop=description content><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/image/pid49256268.jpg"><meta itemprop=keywords content="computer-science(计算机科学),application(应用),WindowsSubsystemForLinux(wsl),linux,golang,goland"><meta property="og:type" content="article"><meta property="og:title" content="使用 WSL 和 Goland 进行 Golang 开发"><meta property="og:description" content><meta property="og:image" content="/image/pid49256268.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/post/computer-science/application/wsl/golang/"><meta property="og:site_name" content="帕里特档案馆"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="西柊慧音"><meta property="article:published_time" content="2022-12-08 08:00:00 +0800 CST"><meta property="article:modified_time" content="2022-12-08 08:00:00 +0800 CST"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.4da9279b6033ade10d67092d7bfb660265f9fa46c40974f17b13bfe235396546.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"golang","permalink":"/post/computer-science/application/wsl/golang/","title":"使用 WSL 和 Goland 进行 Golang 开发","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>使用 WSL 和 Goland 进行 Golang 开发 - 帕里特档案馆</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>帕里特档案馆</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>重建中</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>85</span></a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><ul><li><a href=#环境>环境</a></li><li><a href=#安装-wsl>安装 WSL</a></li><li><a href=#安装和配置-golang>安装和配置 Golang</a></li><li><a href=#配置-goland>配置 goland</a></li><li><a href=#build-报错>build 报错</a><ul><li><a href=#run-的时候报错>run 的时候报错</a></li></ul></li><li><a href=#debug-报错>debug 报错</a><ul><li><a href=#debug-断点调试的时候报错>debug 断点调试的时候报错</a></li></ul></li><li><a href=#reference参考>reference（参考）</a></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=西柊慧音 src=/imgs/img-lazy-loading.gif data-src=/image/pid49256268.jpg><p class=site-author-name itemprop=name>西柊慧音</p><div class=site-description itemprop=description></div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>85</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>16</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>60</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/KelipuTe title="Github → https://github.com/KelipuTe" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>Github</a></span>
<span class=links-of-social-item><a href=xhy_1365@sina.com title="E-Mail → xhy_1365@sina.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>E-Mail</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li><li class=links-of-blogroll-item><a href=https://lisenhui.cn title=https://lisenhui.cn target=_blank>凡梦星尘空间站</a></li></ul></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a>
<a href=https://github.com/hugo-next rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/post/computer-science/application/wsl/golang/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/image/pid49256268.jpg"><meta itemprop=name content="西柊慧音"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="西柊慧音"><meta itemprop=description content></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="使用 WSL 和 Goland 进行 Golang 开发"><meta itemprop=description content="安装和配置 WSL、在 WSL 里安装和配置 Golang、配置 Goland 的过程。"></span><header class=post-header><h1 class=post-title itemprop="name headline">使用 WSL 和 Goland 进行 Golang 开发</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span>
<span class=post-meta-item-text>发表于：</span>
<time title="发表于：2022-12-08 08:00:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2022-12-08 08:00:00 +0800 CST">2022-12-08</time></span>
<span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i></span>
<span class=post-meta-item-text>分类于：</span>
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/application%E5%BA%94%E7%94%A8 itemprop=url rel=index><span itemprop=name>application(应用)</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span>
<span class=post-meta-item-text>字数：</span><span>1419</span></span>
<span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i></span>
<span class=post-meta-item-text>阅读：&ap;</span>
<span>3分钟</span></span>
<span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i></span>
<span class=post-meta-item-text>浏览：</span>
<span id=busuanzi_value_page_pv data-path=/post/computer-science/application/wsl/golang/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><h3 id=环境>环境</h3><blockquote><p>CPU AMD64(x86_64)<br>Windows 11 家庭版<br>WSL2 Ubuntu-20.04<br></p></blockquote><h3 id=安装-wsl>安装 WSL</h3><p>Windows 里需要安装 Hyper-V 虚拟机。有没有安装 Hyper-V 可以通过在命令行窗口（CMD、PowerShell）里输入 <code>systeminfo</code> 命令查看。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>...
</span></span><span style=display:flex><span>Hyper-V 要求:     已检测到虚拟机监控程序。将不显示 Hyper-V 所需的功能。
</span></span></code></pre></div><p>完全未安装 WSL 时，执行 <code>wsl --install</code> 才会一键安装，这里是手动安装。先以管理员模式运行 PowerShell。</p><p>可以通过 <code>wsl --list --verbose</code> 命令或者简写的 <code>wsl -l -v</code> 命令，查看机器上已经安装的 WSL</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>PS C:\WINDOWS\system32&gt; wsl -l -v
</span></span><span style=display:flex><span>  NAME                   STATE           VERSION
</span></span><span style=display:flex><span>* docker-desktop-data    Stopped         2
</span></span><span style=display:flex><span>  docker-desktop         Stopped         2
</span></span></code></pre></div><p>通过 <code>wsl --list --online</code> 命令，查看可用发行版列表。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>以下是可安装的有效分发的列表。
</span></span><span style=display:flex><span>请使用“wsl --install -d &lt;分发&gt;”安装。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME            FRIENDLY NAME
</span></span><span style=display:flex><span>Ubuntu          Ubuntu
</span></span><span style=display:flex><span>Debian          Debian GNU/Linux
</span></span><span style=display:flex><span>kali-linux      Kali Linux Rolling
</span></span><span style=display:flex><span>openSUSE-42     openSUSE Leap 42
</span></span><span style=display:flex><span>SLES-12         SUSE Linux Enterprise Server v12
</span></span><span style=display:flex><span>Ubuntu-16.04    Ubuntu 16.04 LTS
</span></span><span style=display:flex><span>Ubuntu-18.04    Ubuntu 18.04 LTS
</span></span><span style=display:flex><span>Ubuntu-20.04    Ubuntu 20.04 LTS
</span></span></code></pre></div><p>然后通过 <code>wsl --install -d Ubuntu-20.04</code> 命令安装 Ubuntu-20.04。</p><p>等着下载好，如果进度条不动或者出错了，Ctrl+C 然后重新执行就行。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>正在下载: Ubuntu 20.04 LTS
</span></span><span style=display:flex><span>安装过程中出现错误。分发名称: &#39;Ubuntu 20.04 LTS&#39; 错误代码: 0x80072eff
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>正在下载: Ubuntu 20.04 LTS
</span></span><span style=display:flex><span>正在安装: Ubuntu 20.04 LTS
</span></span><span style=display:flex><span>已安装 Ubuntu 20.04 LTS。
</span></span><span style=display:flex><span>正在启动 Ubuntu 20.04 LTS…
</span></span></code></pre></div><p>装好后自动会打开一个命令行窗口。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>Please create a default UNIX user account. The username does not need to match your Windows username.
</span></span><span style=display:flex><span>For more information visit: https://aka.ms/wslusers
</span></span><span style=display:flex><span>Enter new UNIX username:
</span></span></code></pre></div><p>这里需要设置用户名和密码，root 不能用，所以换 kelipute，密码就 123456。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>Please create a default UNIX user account. The username does not need to match your Windows username.
</span></span><span style=display:flex><span>For more information visit: https://aka.ms/wslusers
</span></span><span style=display:flex><span>Enter new UNIX username: root
</span></span><span style=display:flex><span>adduser: The user `root&#39; already exists.
</span></span><span style=display:flex><span>Enter new UNIX username: kelipute
</span></span><span style=display:flex><span>New password:
</span></span><span style=display:flex><span>Retype new password:
</span></span><span style=display:flex><span>passwd: password updated successfully
</span></span><span style=display:flex><span>Installation successful!
</span></span><span style=display:flex><span>To run a command as administrator (user &#34;root&#34;), use &#34;sudo &lt;command&gt;&#34;.
</span></span><span style=display:flex><span>See &#34;man sudo_root&#34; for details.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.10.16.3-microsoft-standard-WSL2 x86_64)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> * Documentation:  https://help.ubuntu.com
</span></span><span style=display:flex><span> * Management:     https://landscape.canonical.com
</span></span><span style=display:flex><span> * Support:        https://ubuntu.com/advantage
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  System information as of Thu Dec  8 13:04:08 CST 2022
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  System load:  0.0                Processes:             8
</span></span><span style=display:flex><span>  Usage of /:   0.4% of 250.98GB   Users logged in:       0
</span></span><span style=display:flex><span>  Memory usage: 0%                 IPv4 address for eth0: 172.27.168.157
</span></span><span style=display:flex><span>  Swap usage:   0%
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0 updates can be installed immediately.
</span></span><span style=display:flex><span>0 of these updates are security updates.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The list of available updates is more than a week old.
</span></span><span style=display:flex><span>To check for new updates run: sudo apt update
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>This message is shown once once a day. To disable it please create the
</span></span><span style=display:flex><span>/home/kelipute/.hushlogin file.
</span></span><span style=display:flex><span>kelipute@keliputeC2021A:~$
</span></span></code></pre></div><p>如果不关闭 Linux 子系统的话，在 Windows 的命令行窗口执行 <code>wsl -l -v</code> 命令，就可以看到刚才装的 Ubuntu-20.04，状态是 Running 的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>  NAME                   STATE           VERSION
</span></span><span style=display:flex><span>* docker-desktop-data    Stopped         2
</span></span><span style=display:flex><span>  Ubuntu-20.04           Running         2
</span></span><span style=display:flex><span>  docker-desktop         Stopped         2
</span></span></code></pre></div><p>Linux 子系统的命令行窗口，后续可以从 Windows 的开始菜单，搜索 Ubuntu 打开。</p><h3 id=安装和配置-golang>安装和配置 Golang</h3><p>在 <code>$HOME</code> 目录（<code>cd ~</code>） 下载一个 Linux 环境的 go 安装包。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo wget https://studygolang.com/dl/golang/go1.19.4.linux-amd64.tar.gz
</span></span></code></pre></div><p>把下载下来的压缩包解压到 <code>/usr/local/</code> 目录。这里不用自己建一个 go 目录，压缩包里有。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo tar zxf go1.19.4.linux-amd64.tar.gz -C /usr/local/
</span></span></code></pre></div><p>打开配置文件：<code>vim ~/.profile</code>。在最后面追加 Golang 的环境配置。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>export PATH=$PATH:$GOROOT/bin
</span></span><span style=display:flex><span>export GOROOT=/usr/local/go
</span></span><span style=display:flex><span>export GOPATH=$HOME/go
</span></span><span style=display:flex><span>export GO111MODULE=on
</span></span><span style=display:flex><span>export GOPROXY=https://goproxy.cn,direct
</span></span></code></pre></div><p>保存之后执行 <code>source ~/.profile</code> 命令，让配置生效。</p><p>这个时候理论上就可以使用 go 命令了，可以使用 <code>go version</code> 命令输出 go 的版本，测试一下。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>go version go1.19.4 linux/amd64
</span></span></code></pre></div><h3 id=配置-goland>配置 goland</h3><blockquote><p>菜单栏 File => Settings&mldr; => Build,Execution,Deployment => Run Targets</p></blockquote><p>创建一个 WSL 的，这里创建的是 WSL Ubuntu-20.04。下面的配置，Go Executable 选 <code>/usr/local/go/bin/go</code>。GOPATH 选 <code>/home/kelipute/go</code>。都是上面在 WSL 里面配置的 go 的环境变量。</p><p>然后配置 Goland 右上角的 Run 和 Debug 按钮。偷懒的办法，先本地点一下 Run 或者 Debug。让 Goland 自动创建一个配置，然后进去 <strong>Edit Configurations&mldr;</strong> 修改。</p><p>选中对应的配置，右边 Run on 默认是 Local machine 这里改成刚才创建的 WSL Ubuntu-20.04，然后把下面的 Build on remote target 勾上。保存之后，这个时候再点 Run 或者 Debug 用的就是 WSL 里面的环境了。</p><h3 id=build-报错>build 报错</h3><h4 id=run-的时候报错>run 的时候报错</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>...
</span></span><span style=display:flex><span>dial tcp 172.217.160.113:443: connect: connection refused
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>这个是 go mod 下不了包，在 WSL 里面改代理就行。</p><h3 id=debug-报错>debug 报错</h3><h4 id=debug-断点调试的时候报错>debug 断点调试的时候报错</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>...
</span></span><span style=display:flex><span># runtime/cgo
</span></span><span style=display:flex><span>cgo: C compiler &#34;gcc&#34; not found: exec: &#34;gcc&#34;: executable file not found in $PATH
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>这个提示表示没安装 gcc。使用 <code>sudo apt install gcc</code> 命令在 WSL 里面安装 gcc 就行。装完之后可以用 <code>gcc -v</code> 命令输出一下 gcc 版本，测试一下。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>gcc -v
</span></span><span style=display:flex><span>Using built-in specs.
</span></span><span style=display:flex><span>COLLECT_GCC=gcc
</span></span><span style=display:flex><span>COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper
</span></span><span style=display:flex><span>OFFLOAD_TARGET_NAMES=nvptx-none:hsa
</span></span><span style=display:flex><span>OFFLOAD_TARGET_DEFAULT=1
</span></span><span style=display:flex><span>Target: x86_64-linux-gnu
</span></span><span style=display:flex><span>Configured with: ../src/configure -v --with-pkgversion=&#39;Ubuntu 9.3.0-10ubuntu2&#39; --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
</span></span><span style=display:flex><span>Thread model: posix
</span></span><span style=display:flex><span>gcc version 9.3.0 (Ubuntu 9.3.0-10ubuntu2)
</span></span></code></pre></div><h3 id=reference参考>reference（参考）</h3><ul><li><a href=https://wangwangyz.site/archives/1035 title="WSL 2 安装" rel="noopener external nofollow noreferrer" target=_blank class=exturl>WSL 2 安装
<i class="fa fa-external-link-alt"></i></a></li><li><a href=https://blog.csdn.net/qq_38992249/article/details/122393434 title="Goland WSL2下开发调试" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Goland WSL2下开发调试
<i class="fa fa-external-link-alt"></i></a></li><li><a href=https://zhuanlan.zhihu.com/p/378437571 title=goland配合wsl2直接调用wsl2里go环境的方法 rel="noopener external nofollow noreferrer" target=_blank class=exturl>goland配合wsl2直接调用wsl2里go环境的方法
<i class="fa fa-external-link-alt"></i></a></li></ul></div><footer class=post-footer><div class=post-tags><a href=/tags/computer-science%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6>computer-science(计算机科学)</a>
<a href=/tags/application%e5%ba%94%e7%94%a8>application(应用)</a>
<a href=/tags/windowssubsystemforlinuxwsl>WindowsSubsystemForLinux(wsl)</a>
<a href=/tags/linux>linux</a>
<a href=/tags/golang>golang</a>
<a href=/tags/goland>goland</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right><ul><li class=post-copyright-title><strong>文章标题：</strong>
使用 WSL 和 Goland 进行 Golang 开发</li><li class=post-copyright-author><strong>本文作者：</strong>
西柊慧音</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=/post/computer-science/application/wsl/golang/ title="使用 WSL 和 Goland 进行 Golang 开发">/post/computer-science/application/wsl/golang/</a></li><li class=post-copyright-license><strong>版权声明：</strong>
本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/computer-science/protocol/rpc/ rel=next title="关于 RPC 的基本认知"><i class="fa fa-chevron-left"></i> 关于 RPC 的基本认知</a></div><div class="post-nav-prev post-nav-item"><a href=/post/computer-science/programming-language/framework/orm/golang/middleware/ rel=prev title="Golang 实现简单的 ORM 框架 -- 其他辅助工具">Golang 实现简单的 ORM 框架 -- 其他辅助工具
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2020 - 2023</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=author itemprop=copyrightHolder>西柊慧音</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.103.1 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.4.1 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script>
<script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"busuanzi":{"pageview":true},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"statis":{"enable":false,"plugin":"busuanzi"},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.4.1","waline":{"cfg":{"comment":true,"emoji":false,"imguploader":false,"pageview":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.c997eeae723f2fcee19ae5066fcc64a49cefb92ddb75904efdb69a223e5a6740.js defer></script></body></html>